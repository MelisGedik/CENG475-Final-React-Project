:root{
  --bg: #0a0f1d;
  --bg-2: #0d1530;
  --fg:#eef2f7;
  --text:#eef2f7;
  --muted:#a7b6cc;
  --card:#0f1a39;
  --card-2:#0f1933;
  --border:#243557;
  --accent:#7c5cff;
  --accent-2:#22d3ee;
  --danger:#ef4444;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
}
*{box-sizing:border-box}
html,body,#root{height:100%}
body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu; background:linear-gradient(180deg,var(--bg),var(--bg-2)); color:var(--text)}
.container{max-width:1100px;margin:80px auto 40px;padding:0 16px}
.nav{position:static;background:linear-gradient(90deg,#0b1430,#0e1a3d 60%, #0b1430);border-bottom:1px solid #152145;backdrop-filter:saturate(140%) blur(6px)}
.nav-inner{max-width:1100px;margin:0 auto;padding:12px 16px;display:flex;gap:16px;align-items:center;justify-content:space-between}
.brand{color:var(--fg);text-decoration:none;font-weight:800;letter-spacing:.5px}
.links a{color:var(--muted);text-decoration:none;margin-right:12px}
.links a:hover{color:#fff}
.auth .btn{margin-left:8px}
.btn{background:var(--accent); color:#fff; border:none; padding:10px 16px; border-radius:10px; cursor:pointer; transition:all .15s ease; box-shadow:0 6px 14px rgba(124,92,255,.25)}
.btn:hover{opacity:.98; transform:translateY(-1px)}
.btn:disabled{opacity:.6; cursor:not-allowed}
.btn-outline{background:transparent;border:1px solid var(--accent);color:var(--accent);box-shadow:none}
.btn:focus-visible{outline:2px solid var(--accent-2); outline-offset:2px}
.card{background:linear-gradient(180deg,var(--card),var(--card-2)); padding:18px; border-radius:16px; border:1px solid var(--border); box-shadow:var(--shadow)}
.card:hover{border-color:#31508f}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px}
.grid.two{grid-template-columns:repeat(2,minmax(0,1fr))}
.card .desc{color:var(--muted);display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}
.poster{width:100%;height:320px;background:#0c1326 center/cover no-repeat;border-top-left-radius:16px;border-top-right-radius:16px}
.card-body{padding:12px}
.meta{display:flex;gap:10px;color:var(--muted)}
.muted{color:var(--muted)}
.small{font-size:12px}
input,select,textarea{width:100%; padding:12px 12px; border-radius:12px; border:1px solid #263551; background:#0f1830; color:var(--fg)}
input[aria-invalid="true"],textarea[aria-invalid="true"]{border-color:var(--danger)}
label{display:block;margin-bottom:10px}
form .row{display:flex;gap:12px;align-items:center}
.row.space-between{display:flex;justify-content:space-between;gap:12px;align-items:center}
h2{margin-top:0}
.reviews{list-style:none;margin:0;padding:0;display:grid;gap:12px}
.home .filters{margin-bottom:16px}
.stars{display:flex;gap:6px}
.star{font-size:22px; background:transparent; border:none; color:#6076a5; cursor:pointer}
.star.active{color:#ffd166}
.toast{position:fixed;bottom:20px;right:20px;padding:12px 14px;border-radius:12px}
.toast.error{background:#2b0f14;color:#fecdd3;border:1px solid #7f1d1d}
.toast.info{background:#0f1f2b;color:#cdeafe;border:1px solid #1e3a5f}
.details-top{display:flex;gap:16px}
.details-top .cover{width:240px;height:340px;object-fit:cover;border-radius:16px;border:1px solid #23314f;box-shadow:var(--shadow)}
.center{text-align:center}
.list{list-style:none;padding:0;margin:0;display:grid;gap:10px}
/* Chips */
.chip{display:inline-block;background:#0f1d36;border:1px solid #223b73;color:#c9d7ff;padding:4px 10px;border-radius:999px;font-size:12px;margin-right:6px}
/* Pager */
.pager{display:flex;align-items:center;gap:12px;justify-content:center;margin:16px 0}
/* Skeletons */
.skeleton .poster{background:#0d1730}
.line{height:12px;border-radius:6px;background:#12203f}
.shimmer{position:relative;overflow:hidden}
.shimmer::after{content:"";position:absolute;inset:0;transform:translateX(-100%);background:linear-gradient(90deg,transparent,rgba(255,255,255,0.06),transparent);animation:shimmer 1.2s infinite}
@keyframes shimmer{100%{transform:translateX(100%)}}
/* Skip link */
.skip{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
.skip:focus{left:8px;top:8px;width:auto;height:auto;background:#111c36;color:#fff;padding:8px 10px;border-radius:6px;z-index:1000}
.error{color:#fecaca}

/* Modern add-ons */
.search-meta{margin:-6px 0 10px}
.search-chip{display:inline-flex;gap:8px;align-items:center;background:#0f1d36;border:1px solid #223b73;color:#d7e3ff;padding:6px 10px;border-radius:999px}
.search-chip .chip-x{background:transparent;border:none;color:#cfe0ff;cursor:pointer;font-size:16px;line-height:1}
.brand-accent{color:#7c5cff}
.nav-actions{display:flex;align-items:center;gap:12px}
.user-menu{position:relative}
.avatar{width:36px;height:36px;border-radius:999px;background:#18254a;border:1px solid #2b4278;display:grid;place-items:center;font-weight:700}
.user-menu:hover .user-dropdown,
.user-menu:focus-within .user-dropdown{opacity:1;transform:translateY(0);pointer-events:auto}
.user-dropdown{position:absolute;right:0;top:100%;background:linear-gradient(180deg,#0f1a39,#0f1933);border:1px solid #223558;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.35);min-width:220px;padding:10px;opacity:0;transform:translateY(-6px);transition:all .15s ease;pointer-events:none}
.user-dropdown::before{content:"";position:absolute;left:0;right:0;top:-10px;height:10px;background:transparent}
.user-dropdown .user-row{display:flex;flex-direction:column;margin:6px 8px 10px}
.user-dropdown a,.user-dropdown button{display:flex;gap:8px;align-items:center;width:100%;padding:8px 10px;background:transparent;border:none;color:#d7e3ff;text-decoration:none;border-radius:8px;cursor:pointer}
.user-dropdown a:hover,.user-dropdown button:hover{background:#0f1f3e}
.user-dropdown .logout{color:#fecaca}

/* Light theme variables */
[data-theme="light"]{
  --bg: #f7f9fc;
  --bg-2: #eef2ff;
  --surface: #ffffff;
  --surface-2:#f8fafc;
  --text:#0f172a;
  --fg:#0f172a;
  --muted:#475569;
  --primary:#3b82f6;
  --primary-2:#0ea5e9;
  --danger:#dc2626;
  --border:#e2e8f0;
}

/* Light theme overrides for better contrast */
[data-theme="light"] .nav{background:linear-gradient(90deg,#ffffff,#f7f9fc 60%, #ffffff);border-bottom:1px solid var(--border)}
[data-theme="light"] .ui-card{background:linear-gradient(180deg,var(--surface),var(--surface-2));border:1px solid var(--border);box-shadow:0 8px 24px rgba(0,0,0,.06)}
[data-theme="light"] .hero-search{background:linear-gradient(180deg,var(--surface),var(--surface-2));border:1px solid var(--border);box-shadow:0 8px 24px rgba(0,0,0,.06)}
[data-theme="light"] .hero-input{color:var(--text)}
[data-theme="light"] .hero-input::placeholder{color:#94a3b8}
[data-theme="light"] .ui-badge, [data-theme="light"] .details-info .pill{background:#eef2ff;border:1px solid #c7d2fe;color:#334155}
[data-theme="light"] .movie-card{background:#e6ecf8;border-color:var(--border)}
[data-theme="light"] .movie-card__overlay{background:linear-gradient(180deg,rgba(0,0,0,.00),rgba(0,0,0,.25) 50%, rgba(0,0,0,.45))}
[data-theme="light"] .movie-card__title{color:#ffffff}
[data-theme="light"] .movie-card__year, [data-theme="light"] .movie-card__meta{color:#cfe0ff}
[data-theme="light"] .meta{color:#475569}
[data-theme="light"] .muted{color:#64748b}

/* Inputs in light mode */
[data-theme="light"] .ui-input{background:#ffffff;border-color:var(--border);color:var(--text)}
[data-theme="light"] input, [data-theme="light"] select, [data-theme="light"] textarea{color:var(--text);background:#ffffff;border-color:var(--border)}
[data-theme="light"] .ui-select{background-image:linear-gradient(45deg,transparent 50%,#3b82f6 50%),linear-gradient(135deg,#3b82f6 50%,transparent 50%)}

/* Links and brand in light */
[data-theme="light"] .brand{color:#0b1220}
[data-theme="light"] .links a:hover{color:#0b1220}
[data-theme="light"] .ui-label{color:#334155}

/* Buttons */
.ui-btn{border:none;cursor:pointer;border-radius:12px;padding:10px 16px;font-weight:600;transition:all .15s ease;box-shadow:0 6px 14px rgba(124,92,255,.25);background:#7c5cff;color:#fff}
.ui-btn--secondary{background:#1f2b55;color:#e9efff;border:1px solid #2c4277;box-shadow:none}
.ui-btn--outline{background:transparent;border:1px solid #7c5cff;color:#7c5cff;box-shadow:none}
.ui-btn--ghost{background:transparent;border:1px solid transparent;color:#cfe0ff;box-shadow:none}
.ui-btn--sm{padding:6px 10px;border-radius:10px}
.ui-btn--lg{padding:12px 18px;border-radius:14px}
.ui-btn:focus-visible{outline:2px solid #22d3ee;outline-offset:2px}
.ui-btn:disabled{opacity:.6;cursor:not-allowed}

/* Fields */
.ui-field{display:block}
.ui-label{display:block;color:#cbdaf7;margin:0 0 6px 2px;font-size:14px}
.ui-input{width:100%;padding:12px 14px;border-radius:12px;border:1px solid #263a67;background:#0f1933;color:#fff}
.ui-input.is-invalid{border-color:#ef4444}
.ui-textarea{min-height:110px;resize:vertical}
.ui-hint{color:#9eb1d9}
.ui-error{color:#fecaca}
.ui-select{appearance:none;background-image:linear-gradient(45deg,transparent 50%,#6a82f1 50%),linear-gradient(135deg,#6a82f1 50%,transparent 50%);background-position:calc(100% - 18px) calc(50% - 6px),calc(100% - 12px) calc(50% + 6px);background-size:6px 6px,6px 6px;background-repeat:no-repeat}

/* Cards */
.ui-card{background:linear-gradient(180deg,#0f1a39,#0f1933);padding:18px;border-radius:16px;border:1px solid #223558;box-shadow:0 10px 30px rgba(0,0,0,.35)}
.ui-card--interactive{transition:transform .15s ease,border-color .15s ease}
.ui-card--interactive:hover{transform:translateY(-2px);border-color:#31508f}

/* Hero */
.hero{padding:30px 0 12px}
.hero-inner{max-width:1200px;margin:0 auto;padding:0 20px}
.hero-title{font-size:36px;margin:0 0 8px}
.hero-sub{color:#c3d0eb;margin:0 0 18px}
.hero-search{display:flex;gap:10px;align-items:center;background:linear-gradient(180deg,#0f1a39,#0f1933);border:1px solid #223558;border-radius:14px;padding:10px 10px;box-shadow:0 10px 30px rgba(0,0,0,.35)}
.hero-input{flex:1;border:none;outline:none;font-size:15px;border-radius:10px;padding:10px 12px;background:transparent;color:#e9f1ff}
.hero-search-icon{color:#9eb1d9;margin-left:6px}

/* Toolbar */
.toolbar{margin:10px 0 24px; position:sticky; top:80px; z-index:20; background:linear-gradient(180deg,var(--bg),var(--bg-2)); border-bottom:1px solid var(--border); padding:8px 10px; border-radius:12px}
.toolbar-form{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px;align-items:end}
.toolbar-form > *{align-self:end}
.toolbar-form .ui-field{margin:0}
.toolbar-form .ui-label{margin-bottom:4px}
.toolbar-form .ui-input{height:46px}
.toolbar-form .ui-btn{height:46px;align-self:end}

/* Sections */
.section{margin:20px 0}
.section-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}

/* Movie cards */
.movie-card{position:relative;display:block;border-radius:16px;overflow:hidden;border:1px solid #223558;background:#0c1730;min-height:320px;box-shadow:0 10px 30px rgba(0,0,0,.35);text-decoration:none}
.movie-card__bg{position:absolute;inset:0;background-position:center;background-size:cover;filter:brightness(.8)}
.movie-card__overlay{position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.0),rgba(0,0,0,.55) 50%, rgba(0,0,0,.8))}
.movie-card__content{position:absolute;left:0;right:0;bottom:0;padding:14px}
.movie-card__top{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}
.movie-card__tags{display:flex;gap:6px;flex-wrap:wrap}
.movie-card__title{margin:4px 0 2px;font-size:18px;color:#fff}
.movie-card__year,.movie-card__meta{color:#cfe0ff}
.ui-badge{display:inline-block;background:#0f1d36;border:1px solid #223b73;color:#c9d7ff;padding:4px 10px;border-radius:999px;font-size:12px}

/* Details */
.details-hero{display:flex;gap:20px;margin-bottom:18px}
.details-hero .cover{width:260px;height:360px;object-fit:cover;border-radius:16px;border:1px solid #223558;box-shadow:0 10px 30px rgba(0,0,0,.35)}
.details-info .title{margin:0 0 6px}
.details-info .pill{display:inline-block;background:#0f1d36;border:1px solid #223b73;color:#c9d7ff;padding:4px 10px;border-radius:999px;font-size:12px;margin-right:6px}
.details .desc{color:#c5d3ef}
.rate-card{display:grid;gap:10px}

/* Auth */
.auth{display:grid;place-items:center}
.auth--center{min-height:calc(100vh - 140px)}
.auth-card{width:100%;max-width:420px}
.auth-title{text-align:center;margin:6px 0 12px}
.auth-form{display:grid;gap:12px}

/* Fixed toolbar overrides */
.toolbar { position: static; background: transparent; border: 0; box-shadow: none; padding: 8px 0 }
.toolbar > .toolbar-form{max-width:1200px;margin:0 auto}
.home{padding-top:0}

/* Light theme card tweaks (stronger legibility) */
[data-theme="light"] .movie-card{background:#dbe4f5;border-color:var(--border)}
[data-theme="light"] .movie-card__title{color:#ffffff}
[data-theme="light"] .movie-card__year,[data-theme="light"] .movie-card__meta{color:#cfe0ff}
[data-theme="light"] .auth .ui-label{color:#334155}

/* Hide navbar and toolbar when not at top */
.nav, .toolbar { display: none }
body.at-top .nav, body.at-top .toolbar { display: block }
